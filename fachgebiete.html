<!doctype html>
<html lang="de">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Projekt Komponenten · Fachgebiete</title>
  <meta name="description" content="Zirkulärer Explorer: Überblick & Drill-Down in Projekt-Komponenten und Fachgebiete (Embedded · KI · Robotik · Cloud)." />

  <style>
    :root{
      --bg0:#070A12;
      --bg1:#0B1022;
      --card: rgba(255,255,255,.04);
      --stroke: rgba(255,255,255,.12);
      --stroke2: rgba(255,255,255,.18);
      --text: rgba(255,255,255,.92);
      --muted: rgba(255,255,255,.70);
      --muted2: rgba(255,255,255,.55);
      --accent:#6EE7FF;
      --accent2:#A78BFA;
      --good:#34D399;
      --warn:#FBBF24;
      --bad:#F87171;
      --shadow: 0 18px 55px rgba(0,0,0,.45);
      --radius: 18px;
    }
    *{box-sizing:border-box}
    html,body{height:100%}
    body{
      margin:0;
      font-family: ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, Helvetica, Arial, "Apple Color Emoji","Segoe UI Emoji";
      color:var(--text);
      background:
        radial-gradient(900px 520px at 12% 10%, rgba(167,139,250,.22), transparent 62%),
        radial-gradient(900px 520px at 85% 18%, rgba(110,231,255,.18), transparent 62%),
        radial-gradient(980px 650px at 50% 92%, rgba(52,211,153,.10), transparent 62%),
        linear-gradient(180deg, var(--bg0), var(--bg1));
    }
    a{color:inherit}
    .wrap{max-width:1160px; margin:0 auto; padding:18px 18px 60px;}
    header{
      display:flex; align-items:center; justify-content:space-between;
      gap:14px; padding:12px 0 8px;
    }
    .brand{
      display:flex; align-items:center; gap:10px; text-decoration:none;
      font-weight:800; letter-spacing:.2px;
    }
    .brand .dot{
      width:12px; height:12px; border-radius:999px;
      background:linear-gradient(135deg, var(--accent), var(--accent2));
      box-shadow:0 0 0 3px rgba(255,255,255,.06);
    }
    nav{display:flex; align-items:center; gap:10px; flex-wrap:wrap;}
    .navlink{
      text-decoration:none;
      padding:8px 10px;
      border:1px solid transparent;
      border-radius:12px;
      color:var(--muted);
    }
    .navlink:hover{border-color:var(--stroke); color:var(--text); background:rgba(255,255,255,.03)}

    .hero{
      margin-top:12px;
      padding:18px;
      border:1px solid var(--stroke);
      border-radius:var(--radius);
      background:linear-gradient(180deg, rgba(255,255,255,.05), rgba(255,255,255,.02));
      box-shadow:var(--shadow);
    }
    .hero h1{margin:0 0 8px; font-size:28px; letter-spacing:.2px}
    .hero p{margin:0; color:var(--muted); line-height:1.45}
    .hero .sub{
      margin-top:10px;
      display:flex; flex-wrap:wrap; gap:8px;
      color:var(--muted2);
      font-size:13px;
    }
    .pill{
      border:1px solid var(--stroke);
      padding:6px 10px;
      border-radius:999px;
      background:rgba(255,255,255,.03);
    }

    .panel{
      margin-top:16px;
      border:1px solid var(--stroke);
      border-radius:var(--radius);
      background:rgba(255,255,255,.03);
      box-shadow:var(--shadow);
      overflow:hidden;
    }
    .toolbar{
      display:flex; gap:10px; align-items:center; justify-content:space-between;
      padding:12px 14px;
      border-bottom:1px solid var(--stroke);
      background:rgba(0,0,0,.10);
    }
    .lefttools{display:flex; gap:10px; align-items:center; flex-wrap:wrap}
    .btn{
      display:inline-flex; align-items:center; gap:8px;
      cursor:pointer;
      padding:9px 12px;
      border-radius:14px;
      border:1px solid var(--stroke);
      background:rgba(255,255,255,.03);
      color:var(--text);
      box-shadow:0 6px 20px rgba(0,0,0,.25);
      transition:transform .08s ease, border-color .12s ease, background .12s ease;
      user-select:none;
    }
    .btn:hover{transform:translateY(-1px); border-color:var(--stroke2); background:rgba(255,255,255,.05)}
    .btn:disabled{opacity:.55; cursor:not-allowed; transform:none}
    .crumbs{
      display:flex; align-items:center; gap:8px; flex-wrap:wrap;
      color:var(--muted);
      font-size:13px;
      max-width:760px;
    }
    .crumbs a{
      text-decoration:none;
      color:var(--muted);
      border:1px solid transparent;
      padding:4px 8px;
      border-radius:999px;
    }
    .crumbs a:hover{border-color:var(--stroke); color:var(--text); background:rgba(255,255,255,.03)}
    .search{
      width:min(420px, 70vw);
      display:flex; align-items:center; gap:8px;
      padding:9px 12px;
      border-radius:14px;
      border:1px solid var(--stroke);
      background:rgba(255,255,255,.03);
    }
    .search input{
      width:100%;
      outline:none;
      border:none;
      color:var(--text);
      background:transparent;
      font-size:14px;
    }
    .search input::placeholder{color:rgba(255,255,255,.45)}

    .content{
      padding:14px;
      display:grid;
      grid-template-columns: 1.1fr .9fr;
      gap:14px;
    }
    @media (max-width: 980px){
      .content{grid-template-columns:1fr}
    }

    /* ---------- Radial Explorer ---------- */
    .radialWrap{
      border:1px solid var(--stroke);
      border-radius:16px;
      background:rgba(0,0,0,.12);
      box-shadow:0 14px 40px rgba(0,0,0,.25);
      padding:14px;
      overflow:hidden;
    }
    .radialTop{
      display:flex; align-items:flex-start; justify-content:space-between;
      gap:12px; flex-wrap:wrap;
      margin-bottom:12px;
    }
    .radialTop .hint{color:var(--muted); font-size:13px; line-height:1.45}
    .legend{
      display:flex; gap:8px; flex-wrap:wrap;
      color:rgba(255,255,255,.70);
      font-size:12.5px;
    }
    .dotLegend{
      display:inline-flex; align-items:center; gap:6px;
      border:1px solid var(--stroke);
      background:rgba(255,255,255,.03);
      padding:5px 9px;
      border-radius:999px;
    }
    .dotLegend i{
      width:8px; height:8px; border-radius:999px; display:inline-block;
      background:linear-gradient(135deg, var(--accent), var(--accent2));
    }

    .radialStage{
      position:relative;
      width:100%;
      aspect-ratio: 1 / 1;
      max-height: 640px;
      min-height: 420px;
      margin: 0 auto;
    }
    @media (max-width: 560px){
      .radialStage{min-height: 360px;}
    }

    .ring{
      position:absolute; inset: 8% 8%;
      border-radius:999px;
      border:1px solid rgba(255,255,255,.10);
      background:
        radial-gradient(circle at center, rgba(110,231,255,.08), transparent 55%),
        radial-gradient(circle at center, rgba(167,139,250,.07), transparent 60%);
      box-shadow: inset 0 0 0 1px rgba(255,255,255,.05);
    }
    .ring.r2{inset: 18% 18%; opacity:.9}
    .ring.r3{inset: 30% 30%; opacity:.8}

    .centerNode{
      position:absolute;
      left:50%; top:50%;
      transform:translate(-50%,-50%);
      width: min(270px, 42%);
      min-width: 210px;
      border-radius: 22px;
      border:1px solid var(--stroke);
      background:linear-gradient(180deg, rgba(255,255,255,.06), rgba(255,255,255,.03));
      box-shadow: 0 18px 60px rgba(0,0,0,.35);
      padding:14px 14px 12px;
      text-align:left;
    }
    .centerNode .k{font-size:12px; letter-spacing:.14em; text-transform:uppercase; color:rgba(255,255,255,.70)}
    .centerNode h3{margin:7px 0 6px; font-size:16px}
    .centerNode p{margin:0; color:var(--muted); font-size:13px; line-height:1.45}
    .centerNode .meta{margin-top:10px; color:rgba(255,255,255,.65); font-size:12.5px; line-height:1.4}
    .centerNode .meta span{
      display:inline-block;
      margin:4px 6px 0 0;
      border:1px solid rgba(255,255,255,.12);
      background:rgba(255,255,255,.03);
      padding:4px 8px; border-radius:999px;
    }

    .orb{
      position:absolute;
      width: min(220px, 30%);
      min-width: 160px;
      border-radius: 18px;
      border:1px solid var(--stroke);
      background:linear-gradient(180deg, rgba(255,255,255,.055), rgba(255,255,255,.02));
      box-shadow: 0 16px 50px rgba(0,0,0,.30);
      padding:12px;
      cursor:pointer;
      transform: translate(-50%, -50%);
      transition: transform .10s ease, border-color .12s ease, background .12s ease;
      user-select:none;
    }
    .orb:hover{
      border-color:var(--stroke2);
      background:linear-gradient(180deg, rgba(255,255,255,.075), rgba(255,255,255,.03));
      transform: translate(-50%, -50%) scale(1.02);
    }
    .orb:focus{outline:none; box-shadow: 0 0 0 3px rgba(110,231,255,.18), 0 16px 50px rgba(0,0,0,.30);}
    .orb h4{
      margin:0;
      font-size:14px;
      display:flex; align-items:center; justify-content:space-between; gap:10px;
    }
    .orb p{
      margin:6px 0 0;
      color:var(--muted);
      font-size:12.8px;
      line-height:1.35;
    }
    .badge{
      font-size:12px;
      color:rgba(255,255,255,.75);
      border:1px solid rgba(255,255,255,.14);
      background:rgba(0,0,0,.12);
      padding:3px 8px;
      border-radius:999px;
      flex: 0 0 auto;
    }

    /* ---------- Detail Panel ---------- */
    .detail{
      border:1px solid var(--stroke);
      border-radius:16px;
      padding:12px;
      background:rgba(0,0,0,.12);
      box-shadow:0 14px 40px rgba(0,0,0,.25);
    }
    .detail h2{margin:0 0 8px; font-size:16px; letter-spacing:.2px}
    .detail p{margin:0; color:var(--muted); line-height:1.45; font-size:13.5px}
    .sectiontitle{
      margin:12px 0 8px;
      color:rgba(255,255,255,.86);
      font-size:12px;
      letter-spacing:.14em;
      text-transform:uppercase;
    }
    .chips{display:flex; flex-wrap:wrap; gap:8px; margin-top:8px}
    .chip{
      border:1px solid var(--stroke);
      background:rgba(255,255,255,.03);
      padding:6px 10px;
      border-radius:999px;
      font-size:13px;
      color:rgba(255,255,255,.84);
      cursor:pointer;
      transition:transform .08s ease, border-color .12s ease, background .12s ease;
    }
    .chip:hover{transform:translateY(-1px); border-color:var(--stroke2); background:rgba(255,255,255,.05)}
    .mini{
      margin-top:10px;
      padding-top:10px;
      border-top:1px dashed rgba(255,255,255,.16);
      color:rgba(255,255,255,.70);
      font-size:12.5px;
      line-height:1.45;
    }

    /* ---------- Global search results ---------- */
    .resultsWrap{display:none; margin-top:12px;}
    .results{
      margin-top:8px;
      border:1px solid var(--stroke);
      border-radius:14px;
      overflow:hidden;
      background:rgba(0,0,0,.10);
    }
    .resrow{
      padding:10px 12px;
      border-bottom:1px solid rgba(255,255,255,.08);
      cursor:pointer;
    }
    .resrow:hover{background:rgba(255,255,255,.03)}
    .resrow:last-child{border-bottom:none}
    .respath{color:var(--muted2); font-size:12px}
    .restitle{font-size:14px; margin-top:2px}
    .kbd{
      border:1px solid rgba(255,255,255,.18);
      padding:2px 6px;
      border-radius:8px;
      background:rgba(0,0,0,.18);
      font-size:12px;
      color:rgba(255,255,255,.72);
    }

    footer{
      margin-top:14px;
      color:rgba(255,255,255,.55);
      font-size:12.5px;
      line-height:1.45;
    }
    .smalllink{color:rgba(255,255,255,.72)}
    .smalllink:hover{color:rgba(255,255,255,.92)}
  </style>
</head>

<body>
  <div class="wrap">
    <header>
      <a class="brand" href="index.html" title="Zurück zur Startseite">
        <span class="dot"></span>
        <span>ibstech · Portal</span>
      </a>

      <nav>
        <a class="navlink" href="index.html#demos">Demos</a>
        <a class="navlink" href="index.html#tools">Tools</a>
        <a class="navlink" href="toolradar.html">ToolRadar</a>
      </nav>
    </header>

    <section class="hero">
      <h1>Projekt Komponenten · Fachgebiete</h1>
      <p>
        Zirkulärer Explorer: Du startest mit den Fachgebieten im Kreis und klickst dich Schritt für Schritt
        in Unterebenen und Varianten hinein. Ziel ist <strong>Orientierung + Deep Dive</strong> – ohne Konfiguration.
      </p>
      <div class="sub">
        <span class="pill">Zirkuläre Navigation</span>
        <span class="pill">Breadcrumbs + Zurück</span>
        <span class="pill">Globale Suche</span>
        <span class="pill">Überblick → Details → Varianten</span>
      </div>
    </section>

    <section class="panel" aria-label="Explorer">
      <div class="toolbar">
        <div class="lefttools">
          <button id="btnBack" class="btn" type="button" disabled>← Zurück</button>
          <div class="crumbs" id="crumbs" aria-label="Breadcrumbs"></div>
        </div>
        <div class="search" role="search">
          <span style="opacity:.75">⌕</span>
          <input id="q" type="search" placeholder="Suchen (z.B. Kalman, BLE, ISO 26262, Zephyr, CNN …)" autocomplete="off" />
        </div>
      </div>

      <div class="content">
        <!-- Left: Radial Explorer -->
        <div class="radialWrap">
          <div class="radialTop">
            <div class="hint" id="levelHint">
              Klick auf eine Karte im Kreis, um tiefer zu gehen. Leaf-Knoten (ohne Unterebenen) werden rechts als Details angezeigt.
            </div>
            <div class="legend">
              <span class="dotLegend"><i></i> Ebene: Kreisring</span>
              <span class="dotLegend"><i style="background:linear-gradient(135deg, var(--good), var(--accent));"></i> Klick = Drill-Down</span>
              <span class="dotLegend"><i style="background:linear-gradient(135deg, var(--warn), var(--accent2));"></i> Leaf = Details</span>
            </div>
          </div>

          <div class="radialStage" id="stage" aria-label="Zirkuläre Navigation">
            <div class="ring r1"></div>
            <div class="ring r2"></div>
            <div class="ring r3"></div>

            <div class="centerNode" id="centerNode">
              <div class="k" id="centerK">Aktuelle Ebene</div>
              <h3 id="centerTitle">Fachgebiete</h3>
              <p id="centerDesc">Wähle ein Fachgebiet im Kreis.</p>
              <div class="meta" id="centerMeta"></div>
            </div>
            <!-- orbit nodes injected here -->
          </div>

          <div class="resultsWrap" id="resultsWrap">
            <div class="sectiontitle">Suchtreffer</div>
            <div id="results" class="results" aria-label="Suchtrefferliste"></div>
            <div class="mini">Tipp: Mit <span class="kbd">Enter</span> auf einen Treffer navigieren oder anklicken.</div>
          </div>
        </div>

        <!-- Right: Details -->
        <aside class="detail" aria-label="Details">
          <h2 id="detailTitle">Start</h2>
          <p id="detailDesc">
            Rechts siehst du Details zum aktuellen Knoten (oder zu einem Leaf, wenn du eines anklickst).
          </p>

          <div class="sectiontitle">Quick-Actions</div>
          <div class="chips">
            <span class="chip" data-quick="signals_imu">Signals → Sensor → IMU</span>
            <span class="chip" data-quick="project_qm">Project → Qualitätsmanagement</span>
            <span class="chip" data-quick="ai_dnn">KI-Algorithmen → DNN</span>
            <span class="chip" data-quick="sw_server">Software → Plattformen → Server</span>
            <span class="chip" data-quick="con_proto">Connectivity → Protokolle</span>
          </div>

          <div id="detailExtra" class="mini"></div>
        </aside>
      </div>
    </section>

    <footer>
      <div>
        Navigation: <a class="smalllink" href="index.html">Startseite</a> ·
        <a class="smalllink" href="toolradar.html">ToolRadar</a>
      </div>
    </footer>
  </div>

  <script>
    // ------------------------------------------------------------
    // Datenbaum: bewusst als "Landkarte" strukturiert (Drill-Down)
    // ------------------------------------------------------------
    const DATA = {
      id: "root",
      title: "Fachgebiete",
      desc: "Überblick über alle involvierten Projekt-Komponenten und Disziplinen.",
      children: [
        {
          id: "project",
          title: "Project",
          subtitle: "Branche · Projektform · PM · Qualität",
          desc: "Projektkontext, Vorgehen, Qualitätsrahmen und Management-Entscheidungen.",
          tags: ["V-Modell", "Agil/Hybrid", "Normen"],
          children: [
            { id: "project_intro", title: "Einleitung", desc: "Projektarbeit als Grundlage für F&E, Prototyping, Serienentwicklung." },
            {
              id: "project_branche",
              title: "Branche",
              desc: "Domänen beeinflussen Normen, Datenlage, Safety/Security, Validierungstiefe und Time-to-Market.",
              options: [
                { label:"Automotive", detail:"Funktionale Sicherheit, Traceability, lange Produktzyklen" },
                { label:"Medical", detail:"Regulatorik, klinische Validierung, Datenschutz" },
                { label:"Robotik", detail:"Perception-Planning-Control, Echtzeit, Simulation" },
                { label:"Industrieautomation", detail:"Zuverlässigkeit, OT/IT-Security, Standards (z.B. OPC UA)" },
                { label:"IoT/Smart Sensors", detail:"Energy/Footprint, Edge-AI, Connectivity" }
              ]
            },
            {
              id: "project_form",
              title: "Projektform",
              desc: "Typische Phasen über den Produktentwicklungszyklus.",
              options: [
                { label:"Machbarkeitsstudie", detail:"Technik/Ökonomie, Datenlage, Risiken" },
                { label:"PoC/Demonstrator", detail:"Nachweis eines Kernprinzips" },
                { label:"Prototyp/MVP", detail:"Architektur + erster End-to-End Pfad" },
                { label:"Serienentwicklung", detail:"Qualifizierung, Produktionstests, Validierung" }
              ]
            },
            {
              id: "project_pm",
              title: "Projektmanagement",
              desc: "Vorgehen, Tooling, Requirements/Defects und Qualitätsmanagement.",
              children: [
                {
                  id: "project_pm_models",
                  title: "Vorgehensmodelle",
                  desc: "Auswahl abhängig von Regulierung, Teamstruktur und Änderungsrate.",
                  options: [
                    { label:"Scrum", detail:"Iterativ, inkrementell, Sprint-basiert" },
                    { label:"Kanban", detail:"Flow-basiert, WIP-Limits" },
                    { label:"Wasserfall", detail:"Planungsgetrieben, sequenziell" },
                    { label:"V-Modell", detail:"Verifikation/Validierung entlang Systemzerlegung" },
                    { label:"Hybrid", detail:"V-Modell + agile Entwicklung auf Komponentenebene" }
                  ]
                },
                {
                  id: "project_pm_quality",
                  title: "Qualitätsmanagement",
                  desc: "Standards hängen von Domäne/Produktklasse ab.",
                  options: [
                    { label:"ISO 9001", detail:"Qualitätsmanagementsystem (Organisation/Prozesse)" },
                    { label:"ISO 26262", detail:"Funktionale Sicherheit Automotive" },
                    { label:"ISO 27001", detail:"Informationssicherheitsmanagement (ISMS)" },
                    { label:"TISAX", detail:"Automotive Security Assessment" },
                    { label:"IATF 16949", detail:"QMS für Automotive-Lieferkette" },
                    { label:"ASPICE", detail:"Prozessfähigkeit Automotive Software" },
                    { label:"CE", detail:"EU-Konformität (richtlinienabhängig)" },
                    { label:"GS", detail:"Freiwilliges Sicherheitszeichen (DE)" }
                  ]
                }
              ]
            }
          ]
        },

        {
          id: "signals",
          title: "Signals",
          subtitle: "Signalform · Sensor · DSP · Anwendungen",
          desc: "Signalformen, Sensorik und Signalverarbeitung – Basis für klassische Algorithmen und KI.",
          tags: ["DSP", "Sensorik", "Fusion"],
          children: [
            { id:"signals_intro", title:"Einleitung", desc:"Signale → Sensor → digitale Verarbeitung → Erkennung/Schätzung." },

            {
              id:"signals_form",
              title:"Physische Signalform",
              desc:"Welche physikalische Größe trägt die Information?",
              children:[
                { id:"sig_akustisch", title:"Akustisch", desc:"Hörbarer Schall.", children:[
                  { id:"sig_akust_varianten", title:"Varianten", desc:"Beispiele für Anwendungsfelder.",
                    options:[
                      {label:"Maschinengeräusche", detail:"Condition Monitoring"},
                      {label:"Glasbruch", detail:"Alarm/Intrusion"},
                      {label:"Fahrzeuggeräusche", detail:"NVH/Fehlerbilder"}
                    ]
                  }
                ]},
                { id:"sig_ultra", title:"Ultraschall", desc:"Akustik > 20 kHz." },
                { id:"sig_optisch", title:"Optisch", desc:"Bildsignale (visuell)." },
                { id:"sig_infrarot", title:"Infrarot", desc:"Thermal/IR-Signale." },
                { id:"sig_funk", title:"Funk", desc:"RF-Signale (BLE/WLAN/UWB/Radar je nach Band)." },
                { id:"sig_beschl", title:"Beschleunigung", desc:"Bewegungsereignisse (IMU)." },
                { id:"sig_kraft", title:"Kraft", desc:"Kraftverläufe/Lasten." },
                { id:"sig_druck", title:"Druck", desc:"Prozesszustände/Plantardruck etc." }
              ]
            },

            {
              id:"signals_sensor",
              title:"Sensor",
              desc:"Sensoren wandeln physikalische Signale in elektrische/digitale Signale um.",
              children:[
                { id:"sens_mikrofon", title:"Mikrofon", desc:"Akustik → elektrisch.", children:[
                  { id:"mic_variants", title:"Mikrofon-Varianten", desc:"Typische Klassen/Interfaces.",
                    options:[
                      {label:"MEMS (PDM/I²S)", detail:"Kompakt/robust; digital"},
                      {label:"Elektret (analog)", detail:"Weit verbreitet; Vorverstärker/ADC"},
                      {label:"Array/Beamforming", detail:"Richtungserkennung, Störunterdrückung"}
                    ]
                  }
                ]},
                { id:"sens_ultra", title:"Ultraschall-Wandler", desc:"Senden/Empfangen.", options:[
                  {label:"Piezo", detail:"Standard ToF-Anwendungen"},
                  {label:"CMUT", detail:"Spezialisierter (kapazitiver) Wandler"}
                ]},
                { id:"sens_cam2d", title:"2D Kamera (CMOS/CCD)", desc:"Mono/Farbe/IR-sensitiv." },
                { id:"sens_lidar", title:"LIDAR", desc:"Laserbasiertes 3D-Scanning.", options:[
                  {label:"ToF-Lidar", detail:"Sehr verbreitet"},
                  {label:"FMCW-Lidar", detail:"Emerging, zusätzliche Speed-Info möglich"}
                ]},
                { id:"sens_radar", title:"Radar", desc:"Abstand/Relativgeschwindigkeit.", options:[
                  {label:"FMCW", detail:"Sehr verbreitet"},
                  {label:"Impuls", detail:"Klassisch"},
                  {label:"UWB-Radar", detail:"Breites Spektrum / kurze Pulse"}
                ]},
                { id:"sens_imu", title:"IMU", desc:"Beschleunigung + Gyro (+ Mag).", options:[
                  {label:"6-Achsen", detail:"Accel+Gyro"},
                  {label:"9-Achsen", detail:"Accel+Gyro+Mag"},
                  {label:"Sensorfusion", detail:"Orientation/Heading"}
                ]},
                { id:"sens_ble", title:"BLE", desc:"Low-power Funk zur App." },
                { id:"sens_array", title:"Array", desc:"Sensorfeld/Geometrie (z.B. Druckfeld, Mikrofon-Array)." }
              ]
            },

            {
              id:"signals_dsp",
              title:"Signalverarbeitung",
              desc:"Vorverarbeitung, Analyse, Transformation und robuste Statistik.",
              children:[
                { id:"dsp_prep", title:"Signalaufbereitung", desc:"Filter/Resampling/Normalisierung.", options:[
                  {label:"FIR/IIR Filter", detail:"Tief-/Hoch-/Bandpass"},
                  {label:"Resampling", detail:"Dezimierung/Interpolation"},
                  {label:"Kalibrierung", detail:"Offset/Gain/Drift-Korrektur"}
                ]},
                { id:"dsp_adapt", title:"Adaptive Filter", desc:"Parameter passen sich im Betrieb an.", options:[
                  {label:"Kalman-Filter", detail:"Zustandsschätzung"},
                  {label:"Partikel-Filter", detail:"Nonlinear/Non-Gaussian"},
                  {label:"(N)LMS / RLS", detail:"Adaptive Filterklassiker"}
                ]},
                { id:"dsp_analysis", title:"Signalanalyse", desc:"Features in Zeit/Frequenz.", options:[
                  {label:"FFT/DFT", detail:"Spektren"},
                  {label:"Peak Detection", detail:"Events (z.B. Heel-Strike)"},
                  {label:"Changepoint", detail:"Phasenwechsel"},
                  {label:"Cepstrum/MFCC", detail:"Audio/NLP-nahe Features"}
                ]}
              ]
            },

            {
              id:"signals_apps",
              title:"Anwendungen",
              desc:"Signal-basierte Use-Cases.",
              options:[
                {label:"Zustandsschätzung", detail:"Tracking/State Estimation"},
                {label:"Audio Processing", detail:"Denoising/Echo/Separation"},
                {label:"IMU Processing", detail:"Gait, Fall Detection, Odometrie"},
                {label:"Radar/UWB", detail:"Presence/Range/Vital"}
              ]
            }
          ]
        },

        {
          id:"ai",
          title:"KI-Algorithmen",
          subtitle:"Use-Cases · Algorithmen · Data/ML Engineering",
          desc:"Erkennung/Klassifikation/Fusion – von Feature-Engineering bis DNN.",
          tags:["ML", "DNN", "Fusion"],
          children:[
            { id:"ai_intro", title:"Einleitung", desc:"KI-Systeme: Daten → Features/Model → Evaluation → Deployment." },
            {
              id:"ai_use",
              title:"KI-Anwendung",
              desc:"Welche Problemklasse?",
              options:[
                {label:"Klassifikation", detail:"Zustand/Klasse aus Daten"},
                {label:"Regression", detail:"Kontinuierliche Zielgrößen"},
                {label:"Detektion", detail:"Objekt/Event Detection"},
                {label:"Segmentierung", detail:"Pixel-/Zeitabschnittslabels"},
                {label:"Anomalie/Novelty", detail:"Abweichungen/Outliers"}
              ]
            },
            {
              id:"ai_algos",
              title:"Algorithmen",
              desc:"Bausteine (klassisch bis Deep Learning).",
              children:[
                { id:"ai_feat", title:"Feature Engineering", desc:"Domänenwissen → robuste Features.", options:[
                  {label:"Time Features", detail:"Mean/Var/Peaks"},
                  {label:"Spectral", detail:"Bandpower/FFT"},
                  {label:"Multimodale Fusion", detail:"Sensorfusion"},
                  {label:"PCA/ICA", detail:"Dimensionsreduktion"}
                ]},
                { id:"ai_classic", title:"Klassifikatoren (klassisch)", desc:"Statistische Modelle.", options:[
                  {label:"Logistic Regression", detail:"Linear baseline"},
                  {label:"SVM", detail:"Margin-based"},
                  {label:"HMM", detail:"Sequenzen"},
                  {label:"GMM", detail:"Mixtures"},
                  {label:"Shallow NN", detail:"Kleinere Netze"}
                ]},
                { id:"ai_dnn", title:"DNN", desc:"Deep Learning Familien.", children:[
                  { id:"dnn_cnn", title:"CNN", desc:"Spatial/Local patterns (Audio/Images/1D)", options:[
                    {label:"1D-CNN", detail:"Zeitreihen/IMU"},
                    {label:"2D-CNN", detail:"Bilder"},
                    {label:"Mobile/Edge CNN", detail:"kleiner Footprint"}
                  ]},
                  { id:"dnn_rnn", title:"RNN/LSTM", desc:"Zeitliche Abhängigkeiten.", options:[
                    {label:"LSTM", detail:"Langzeit-Dependencies"},
                    {label:"GRU", detail:"leichter als LSTM"}
                  ]},
                  { id:"dnn_trf", title:"Transformer", desc:"Attention-basiert.", options:[
                    {label:"Encoder (BERT-like)", detail:"Klassifikation/Features"},
                    {label:"Decoder (GPT-like)", detail:"Generativ/Assistent"}
                  ]}
                ]}
              ]
            },
            {
              id:"ai_data",
              title:"Data Engineering",
              desc:"Akquise, Labeling, Dataset-Design.",
              options:[
                {label:"Data Acquisition", detail:"Logging/Time-sync"},
                {label:"Annotation", detail:"Labels/Events"},
                {label:"Dataset Engineering", detail:"Train/Val/Test split"},
                {label:"Normalization", detail:"Scaling/Cleaning"},
                {label:"Augmentation", detail:"robustness"}
              ]
            }
          ]
        },

        {
          id:"software",
          title:"Software",
          subtitle:"Plattformen · Sprachen · Tools · DevOps",
          desc:"Software über Embedded, Mobile, Desktop und Server/Cloud – inkl. Tooling & Delivery.",
          tags:["CI/CD", "Tooling", "MLOps-nah"],
          children:[
            {
              id:"sw_platforms",
              title:"Plattformen",
              desc:"Wo läuft die Software?",
              children:[
                {id:"sw_emb", title:"Embedded", desc:"MCU/MPU (RTOS/Linux)"},
                {id:"sw_mobile", title:"Mobile", desc:"Android/iOS Apps"},
                {id:"sw_desktop", title:"Desktop", desc:"Windows/Linux/macOS Engineering"},
                {id:"sw_server", title:"Server/Cloud", desc:"Services/APIs/Jobs", options:[
                  {label:"Container", detail:"Docker/OCI"},
                  {label:"Kubernetes", detail:"Orchestrierung"},
                  {label:"Observability", detail:"Logs/Metriken/Tracing"}
                ]}
              ]
            },
            {
              id:"sw_lang",
              title:"Sprachen & Frameworks",
              desc:"Typische Tech-Stacks.",
              options:[
                {label:"C/C++", detail:"Firmware/Performance"},
                {label:"Python", detail:"ML/Tools/Pipelines"},
                {label:"Rust", detail:"Safety/Concurrency"},
                {label:"Zephyr/FreeRTOS", detail:"RTOS"},
                {label:"Linux", detail:"Edge/Robotics"},
                {label:"ROS 2", detail:"Robotik Middleware"},
                {label:"OpenCV", detail:"Vision"},
                {label:"TFLite/ONNX Runtime", detail:"Edge Inference"}
              ]
            },
            {
              id:"sw_devops",
              title:"DevOps",
              desc:"Build/Test/Release/Monitoring.",
              options:[
                {label:"GitHub Actions", detail:"CI/CD"},
                {label:"Jenkins/GitLab CI", detail:"CI/CD Alternativen"},
                {label:"OTA Updates", detail:"Firmware/Model/App"},
                {label:"Security Scanning", detail:"SAST/Dependency"}
              ]
            }
          ]
        },

        {
          id:"embedded",
          title:"Embedded",
          subtitle:"CPU · Elektronik · Embedded SW · Gehäuse · Optik",
          desc:"Von CPU/PCB bis Produktintegration – inkl. Echtzeit und Safety.",
          tags:["RTOS", "PCB", "Echtzeit"],
          children:[
            { id:"emb_cpu", title:"CPU", desc:"Plattformen/Architekturen.", options:[
              {label:"MCU", detail:"Cortex-M/RISC-V"},
              {label:"MPU", detail:"Cortex-A/x86"},
              {label:"DSP/NPU", detail:"Inference/DSP Beschleunigung"},
              {label:"GPU (Edge)", detail:"Vision/Simulation"}
            ]},
            { id:"emb_elec", title:"Elektronik-Design", desc:"Schaltplan/PCB/Power/EMV.", options:[
              {label:"Power Management", detail:"Batterie/Regler/Charging"},
              {label:"Analog Front-End", detail:"ADC/Verstärker/Filter"},
              {label:"EMV/EMC", detail:"Störfestigkeit/Emission"},
              {label:"Production Test", detail:"Jigs/Testpunkte/Traceability"}
            ]},
            { id:"emb_sw", title:"Embedded Software", desc:"Treiber/RTOS/Linux/Protokolle.", options:[
              {label:"Treiber", detail:"I²C/SPI/UART/ADC"},
              {label:"RTOS", detail:"Tasks/Interrupts/Timing"},
              {label:"Boot/Update", detail:"Secure Boot/OTA"},
              {label:"Safety Patterns", detail:"Watchdogs/Fail-safe/Diagnostics"},
              {label:"Security", detail:"Keys/Secure Storage/Comms"}
            ]},
            { id:"emb_case", title:"Gehäuse", desc:"Mechanik/Schutz/Ergonomie.", options:[
              {label:"Material", detail:"Kunststoff/Metall"},
              {label:"Thermik", detail:"Wärmeabfuhr"},
              {label:"IP Schutz", detail:"Staub/Wasser je nach Klasse"}
            ]},
            { id:"emb_optics", title:"Optik", desc:"Kamera/Linsen/Beleuchtung.", options:[
              {label:"FOCUS/FOV", detail:"Sichtfeld/Schärfe"},
              {label:"Beleuchtung", detail:"IR/Visible"},
              {label:"Kalibrierung", detail:"Intrinsics/Extrinsics"}
            ]}
          ]
        },

        {
          id:"connectivity",
          title:"Connectivity",
          subtitle:"Bereich · Verbindung · Protokolle",
          desc:"Gerätekopplung, Edge/Cloud, Feldbus – inklusive Protokollauswahl.",
          tags:["BLE", "WLAN", "OT/IT"],
          children:[
            { id:"con_area", title:"Anwendungsbereich", desc:"Wozu wird Connectivity genutzt?", options:[
              {label:"Datentransfer", detail:"Messdaten/Features/Events"},
              {label:"Device Management", detail:"Provisioning/Config"},
              {label:"OTA Updates", detail:"Firmware/Model/App"},
              {label:"Telemetry", detail:"Logs/Metriken/Alarme"}
            ]},
            { id:"con_link", title:"Verbindung", desc:"Wired vs Wireless vs Gateway.", children:[
              { id:"wired", title:"Wired", desc:"Ethernet/USB/CAN/RS-485.", options:[
                {label:"Ethernet", detail:"IP-basiert, robust"},
                {label:"CAN/CAN-FD", detail:"Automotive/Industrial"},
                {label:"RS-485/Modbus", detail:"Industrial klassisch"},
                {label:"USB", detail:"Debug/Transfer"}
              ]},
              { id:"wireless", title:"Wireless", desc:"Low-power bis High-throughput.", options:[
                {label:"BLE", detail:"Wearables/App, low power"},
                {label:"WLAN", detail:"Durchsatz, mehr Power"},
                {label:"LoRa", detail:"Weitreichend, low data"},
                {label:"Cellular", detail:"LTE/5G je nach Use-Case"},
                {label:"UWB", detail:"Ranging/Precision"}
              ]},
              { id:"gateway", title:"Gateway", desc:"Protokollübersetzer + Edge Compute.", options:[
                {label:"Edge Inference", detail:"On-device ML"},
                {label:"Protocol Bridging", detail:"BLE↔IP etc."},
                {label:"Buffering", detail:"Store-and-forward"}
              ]}
            ]},
            { id:"con_proto", title:"Protokolle", desc:"Protokollfamilien.", options:[
              {label:"MQTT", detail:"IoT Pub/Sub"},
              {label:"HTTP/REST", detail:"Service APIs"},
              {label:"gRPC", detail:"Binary RPC"},
              {label:"OPC UA", detail:"Industrial interoperability"}
            ]}
          ]
        }
      ]
    };

    // ------------------------------------------------------------
    // State & DOM
    // ------------------------------------------------------------
    const state = { path: [], query: "", results: [] };

    const elBack = document.getElementById("btnBack");
    const elCrumbs = document.getElementById("crumbs");
    const elQ = document.getElementById("q");
    const elStage = document.getElementById("stage");

    const elCenterK = document.getElementById("centerK");
    const elCenterTitle = document.getElementById("centerTitle");
    const elCenterDesc = document.getElementById("centerDesc");
    const elCenterMeta = document.getElementById("centerMeta");
    const elLevelHint = document.getElementById("levelHint");

    const elDetailTitle = document.getElementById("detailTitle");
    const elDetailDesc = document.getElementById("detailDesc");
    const elDetailExtra = document.getElementById("detailExtra");

    const elResultsWrap = document.getElementById("resultsWrap");
    const elResults = document.getElementById("results");

    function findNodeByPath(path){
      let node = DATA;
      for(const id of path){
        node = (node.children || []).find(c => c.id === id);
        if(!node) return null;
      }
      return node;
    }
    function getCurrentNode(){
      return findNodeByPath(state.path) || DATA;
    }

    function buildBreadcrumb(){
      const parts = [{title:"Fachgebiete", path:[]}];
      let acc = [];
      for(const id of state.path){
        acc = acc.concat([id]);
        const n = findNodeByPath(acc);
        if(n) parts.push({title:n.title, path:[...acc]});
      }
      return parts;
    }

    function renderCrumbs(){
      const parts = buildBreadcrumb();
      elCrumbs.innerHTML = parts.map((p, idx) => {
        const isLast = idx === parts.length - 1;
        if(isLast) return `<span style="color:rgba(255,255,255,.88); font-weight:650">${escapeHtml(p.title)}</span>`;
        return `<a href="#" data-crumb="${idx}">${escapeHtml(p.title)}</a><span style="opacity:.5">/</span>`;
      }).join(" ");

      elCrumbs.querySelectorAll("a[data-crumb]").forEach(a => {
        a.onclick = (e) => {
          e.preventDefault();
          const idx = Number(a.getAttribute("data-crumb"));
          if(idx === 0) state.path = [];
          else state.path = state.path.slice(0, idx);
          state.query = "";
          elQ.value = "";
          hideResults();
          refresh();
        };
      });
    }

    function setRightPanel(node){
      elDetailTitle.textContent = node.title || "—";
      elDetailDesc.textContent = node.desc || "—";

      const extra = [];
      if(node.subtitle) extra.push(`<div><strong style="color:rgba(255,255,255,.82)">Fokus:</strong> ${escapeHtml(node.subtitle)}</div>`);
      if(node.tags && node.tags.length){
        extra.push(`<div style="margin-top:8px; display:flex; flex-wrap:wrap; gap:8px;">` +
          node.tags.map(t => `<span style="border:1px solid rgba(255,255,255,.12); background:rgba(255,255,255,.03); padding:4px 8px; border-radius:999px;">${escapeHtml(t)}</span>`).join("") +
        `</div>`);
      }
      if(node.options && node.options.length){
        extra.push(`<div class="sectiontitle">Optionen / Varianten</div>`);
        extra.push(`<div class="chips">` + node.options.map(o =>
          `<span class="chip" data-op="${escapeHtml(o.label)}" data-opd="${escapeHtml(o.detail||"")}">${escapeHtml(o.label)}</span>`
        ).join("") + `</div>`);
        extra.push(`<div class="mini">Klick auf eine Option, um sie als Detail zu öffnen.</div>`);
      } else if(node.children && node.children.length){
        extra.push(`<div class="mini">Unterebenen: <strong>${node.children.length}</strong> · Nutze den Kreis links für Drill-Down.</div>`);
      } else {
        extra.push(`<div class="mini">Leaf-Knoten: keine weiteren Unterebenen.</div>`);
      }
      elDetailExtra.innerHTML = extra.join("");
      wireOptionChips();
    }

    function wireOptionChips(){
      document.querySelectorAll('.chip[data-op]').forEach(chip => {
        chip.onclick = () => {
          const t = chip.getAttribute("data-op") || "";
          const d = chip.getAttribute("data-opd") || "";
          elDetailTitle.textContent = t;
          elDetailDesc.textContent = d || "—";
          elDetailExtra.innerHTML = `<div class="mini">Zurück: Breadcrumbs oder Zurück-Button.</div>`;
        };
      });
      document.querySelectorAll('.chip[data-quick]').forEach(chip => {
        chip.onclick = () => {
          const k = chip.getAttribute("data-quick");
          if(k === "signals_imu") navigateTo(["signals","signals_sensor","sens_imu"]);
          if(k === "project_qm")  navigateTo(["project","project_pm","project_pm_quality"]);
          if(k === "ai_dnn")      navigateTo(["ai","ai_algos","ai_dnn"]);
          if(k === "sw_server")   navigateTo(["software","sw_platforms","sw_server"]);
          if(k === "con_proto")   navigateTo(["connectivity","con_proto"]);
        };
      });
    }

    function refreshCenter(){
      const node = getCurrentNode();
      elCenterK.textContent = state.path.length ? "Aktuelle Ebene" : "Start";
      elCenterTitle.textContent = node.title || "Fachgebiete";
      elCenterDesc.textContent = node.desc || "—";
      const meta = [];
      if(node.subtitle) meta.push(`<span>${escapeHtml(node.subtitle)}</span>`);
      if(node.children && node.children.length) meta.push(`<span>Unterebenen: ${node.children.length}</span>`);
      if(node.options && node.options.length) meta.push(`<span>Optionen: ${node.options.length}</span>`);
      elCenterMeta.innerHTML = meta.join("");
      setRightPanel(node);
    }

    function clearOrbs(){
      elStage.querySelectorAll(".orb").forEach(n => n.remove());
    }

    function renderRadial(){
      const node = getCurrentNode();
      const children = (node.children || []);
      clearOrbs();

      const level = state.path.length;
      elLevelHint.textContent =
        level === 0
          ? "Start: Wähle ein Fachgebiet im Kreis. Du kannst danach stufenweise tiefer eintauchen."
          : "Klick auf eine Karte im Kreis für Drill-Down. Leaf-Knoten öffnen rechts Details (und Optionen/Varianten).";

      // Radius je nach Anzahl/Viewport
      const stageRect = elStage.getBoundingClientRect();
      const R = Math.min(stageRect.width, stageRect.height) * 0.40;

      const N = children.length;
      if(N === 0){
        // Leaf: nichts im Ring
        return;
      }

      // gleichmäßig verteilen; Startwinkel leicht gedreht für bessere Optik
      const startAngle = -Math.PI / 2; // oben
      for(let i=0;i<N;i++){
        const angle = startAngle + (i * (2*Math.PI / N));
        const x = 50 + (Math.cos(angle) * 50 * 0.78); // in %, nicht px
        const y = 50 + (Math.sin(angle) * 50 * 0.78);

        const ch = children[i];
        const hasChildren = ch.children && ch.children.length;
        const hasOptions = ch.options && ch.options.length;
        const badge = hasChildren ? `Ebenen: ${ch.children.length}` : (hasOptions ? `Optionen: ${ch.options.length}` : "Leaf");

        const orb = document.createElement("div");
        orb.className = "orb";
        orb.tabIndex = 0;
        orb.setAttribute("role","button");
        orb.dataset.id = ch.id;
        orb.style.left = x + "%";
        orb.style.top = y + "%";

        orb.innerHTML = `
          <h4>
            <span>${escapeHtml(ch.title)}</span>
            <span class="badge">${escapeHtml(badge)}</span>
          </h4>
          <p>${escapeHtml(ch.subtitle || ch.desc || "")}</p>
        `;

        orb.addEventListener("click", () => openChild(ch.id));
        orb.addEventListener("keydown", (e) => {
          if(e.key === "Enter" || e.key === " "){
            e.preventDefault();
            openChild(ch.id);
          }
        });

        elStage.appendChild(orb);
      }
    }

    function openChild(childId){
      if(!childId) return;
      const node = getCurrentNode();
      const child = (node.children || []).find(c => c.id === childId);
      if(!child) return;

      if(child.children && child.children.length){
        state.path.push(child.id);
        state.query = "";
        elQ.value = "";
        hideResults();
        refresh();
      } else {
        // Leaf oder "Option-only": Rechts Details anzeigen
        setRightPanel(child);
      }
    }

    function refresh(){
      elBack.disabled = state.path.length === 0;
      renderCrumbs();
      refreshCenter();
      renderRadial();
      wireOptionChips();
    }

    function navigateTo(path){
      state.path = [...path];
      state.query = "";
      elQ.value = "";
      hideResults();
      refresh();
      const n = findNodeByPath(path);
      if(n) setRightPanel(n);
      window.scrollTo({top:0, behavior:"smooth"});
    }

    // ------------------------------------------------------------
    // Global Search (DFS)
    // ------------------------------------------------------------
    function dfs(node, pathAcc, out, q){
      const hay = ((node.title||"") + " " + (node.subtitle||"") + " " + (node.desc||"")).toLowerCase();
      const optHay = (node.options || []).map(o => (o.label||"") + " " + (o.detail||"")).join(" ").toLowerCase();
      if(q && (hay.includes(q) || optHay.includes(q))){
        if(node.id !== "root") out.push({ node, path:[...pathAcc] });
      }
      (node.children || []).forEach(ch => dfs(ch, pathAcc.concat([ch.id]), out, q));
    }

    function showResults(items){
      state.results = items;
      elResultsWrap.style.display = items.length ? "block" : "none";
      if(!items.length){ elResults.innerHTML=""; return; }

      elResults.innerHTML = items.slice(0, 30).map((r, i) => `
        <div class="resrow" tabindex="0" data-i="${i}">
          <div class="respath">${escapeHtml(renderPathTitles(r.path))}</div>
          <div class="restitle">${escapeHtml(r.node.title)}</div>
        </div>
      `).join("");

      elResults.querySelectorAll(".resrow").forEach(row => {
        row.onclick = () => {
          const i = Number(row.getAttribute("data-i"));
          const r = items[i];
          if(!r) return;

          const node = findNodeByPath(r.path);
          if(node && node.children && node.children.length){
            navigateTo(r.path);
          } else {
            const parentPath = r.path.slice(0, -1);
            state.path = parentPath;
            hideResults();
            refresh();
            if(node) setRightPanel(node);
          }
        };
        row.addEventListener("keydown", (e) => {
          if(e.key === "Enter"){
            e.preventDefault();
            row.click();
          }
        });
      });
    }

    function hideResults(){
      elResultsWrap.style.display = "none";
      elResults.innerHTML = "";
      state.results = [];
    }

    function renderPathTitles(path){
      const titles = ["Fachgebiete"];
      let acc = [];
      for(const id of path){
        acc.push(id);
        const n = findNodeByPath(acc);
        if(n) titles.push(n.title);
      }
      return titles.join(" / ");
    }

    // ------------------------------------------------------------
    // Events
    // ------------------------------------------------------------
    elBack.onclick = () => {
      if(state.path.length === 0) return;
      state.path.pop();
      state.query = "";
      elQ.value = "";
      hideResults();
      refresh();
    };

    elQ.addEventListener("input", () => {
      state.query = elQ.value || "";
      const q = state.query.trim().toLowerCase();

      if(q.length >= 3){
        const out = [];
        dfs(DATA, [], out, q);
        out.sort((a,b) => a.path.length - b.path.length);
        showResults(out);
      } else {
        hideResults();
      }
    });

    function escapeHtml(s){
      return String(s || "")
        .replaceAll("&","&amp;")
        .replaceAll("<","&lt;")
        .replaceAll(">","&gt;")
        .replaceAll('"',"&quot;")
        .replaceAll("'","&#039;");
    }

    // Initial render
    refresh();
  </script>
</body>
</html>
